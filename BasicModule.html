<html>
    <head>
        <title>Animation</title>
        <script src='https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.js'></script>
        <style>

            .ice{
                background-image: url('https://www.carbonbrief.org/wp-content/uploads/2015/04/ice-caves-iceland-dark-ice-1550x804.jpg');
                width:250px;
                height:400px;
                position: absolute;
                top: 245px;
                left: 500px;
            }
            .man{

                background-image: url('https://orig00.deviantart.net/edeb/f/2013/309/1/1/he_man_running_by_bwwd-d6t6090.gif');
                height:222px;
                width:220px;
                position:absolute;
                top:423px;   
            }
            .panel{
                background-image: url('https://images.alphacoders.com/152/152113.jpg');
                height:645px;
                width: 1000px;
                top: 0px;
                position: relative;
                
            }

        </style>
    </head>
    <body>

        <p style="color: gold"></p>
        <div class="panel">
            <div class="ice"></div>
            <div class='man'></div>
        </div>
        <script>
            $(function(){




              $(document).on('keydown',function(event){

                
                var posMan = $('.man').position();  
                var posIce = $('.ice').position();
                var man = $('.man');
                var ice = $()
                /*
                $('p').append('||'+posMan.left+':'+posMan.top);
                $('p').append('||'+posIce.left+':'+posIce.top);
                
                //positon difference
                var difference = posIce.left-posMan.left;


                //width difference
                var widthdiff = $('.door').width() - $('.man').width();
                //alert(difference);

                if((difference>$('.man').width())||(difference<=(+1*widthdiff)))
                {
                    $(".man").animate({left: '+=50px'});
                }

                else
                {
                    $('.man').animate({top: '+50px'});
                   //    $('.man').animate({left: '+10px'});
                    
                }
                */
                //alert(posMan.top);
                if(event.which==39)
                {
                    //alert(posMan.left+' '+posIce.left);
                    if((posMan.left+200<posIce.left)||(posMan.left>posIce.left+100)) 
                    {

                        $(".man").animate({left: '+=50px'});    
                    }
                    else if(posMan.top==23)
                    {
                        $(".man").animate({left: '+=50px'});
                    }
                    
                }
                if(event.which==38 && posMan.top==423)
                {   
                    //alert('inside climb'+state);
                    $('.man').animate({top: '-=400px'});

                    if(posMan.left+200<posIce.left)
                    {
                        $('.man').animate({top: '+=400px'});    
                    }
                    
                }
                
                if(event.which==40 && posMan.top==23)
                {

                    //alert('inside jump'+state);
                    if(posMan.left+100>posIce.left+250)
                    {
                        $('.man').animate({top: '+=400px'});
                    }
                }
                //alert(state);
                
               
                
                
              
                  
              })



            
            
            
            })
        </script>




    </body>
</html>
